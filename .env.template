# UK Digital ID Platform - Environment Configuration Template
# Copy this file to .env and fill in your actual values

#=============================================================================
# PLATFORM METADATA
#=============================================================================
PLATFORM_NAME="UK Digital ID Platform"
PLATFORM_VERSION="1.0.0"
ENVIRONMENT="development"  # development, staging, production
DEBUG_MODE="true"
LOG_LEVEL="info"  # debug, info, warn, error

#=============================================================================
# CORE INFRASTRUCTURE
#=============================================================================

# Database Configuration
POSTGRES_HOST="localhost"
POSTGRES_PORT="5432"
POSTGRES_DB="uk_digital_id"
POSTGRES_USER="uk_id_user"
POSTGRES_PASSWORD=""  # GENERATE: Random 32-character password
DATABASE_URL="postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}"
DATABASE_MAX_CONNECTIONS="50"
DATABASE_TIMEOUT="30s"

# Redis Configuration
REDIS_HOST="localhost"
REDIS_PORT="6379"
REDIS_PASSWORD=""  # GENERATE: Random 24-character password
REDIS_URL="redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0"
REDIS_MAX_CONNECTIONS="100"
REDIS_TIMEOUT="5s"

# Kafka Configuration
KAFKA_BROKERS="localhost:9092"
KAFKA_TOPIC_AUDIT="audit-events"
KAFKA_TOPIC_FRAUD="fraud-alerts"
KAFKA_TOPIC_NOTIFICATIONS="notifications"
KAFKA_GROUP_ID="uk-digital-id"
KAFKA_TIMEOUT="10s"

#=============================================================================
# SECURITY & CRYPTOGRAPHY
#=============================================================================

# JWT Configuration
JWT_SECRET=""  # GENERATE: 64-character hex secret
JWT_EXPIRY="24h"
JWT_ISSUER="uk-digital-id-platform"
JWT_AUDIENCE="uk-digital-id-users"

# Encryption Keys
AES_ENCRYPTION_KEY=""  # GENERATE: 32-byte hex key for AES-256
ED25519_PRIVATE_KEY=""  # GENERATE: Ed25519 private key
ED25519_PUBLIC_KEY=""   # GENERATE: Ed25519 public key
BCRYPT_COST="12"

# API Keys & Secrets
API_SECRET_KEY=""  # GENERATE: 48-character secret for API authentication
WEBHOOK_SECRET=""  # GENERATE: 32-character webhook verification secret
RATE_LIMIT_SECRET=""  # GENERATE: 24-character rate limiting secret

#=============================================================================
# SERVICE PORTS & ENDPOINTS
#=============================================================================

# Core Services
RUST_ENGINE_PORT="8082"
GO_GATEWAY_PORT="8080"
KOTLIN_CONNECTORS_PORT="8081"
PYTHON_ANALYTICS_PORT="8083"

# Web Applications  
CITIZEN_PORTAL_PORT="3001"
ADMIN_DASHBOARD_PORT="3000"
MOBILE_DEV_SERVER_PORT="3002"

# Monitoring & Infrastructure
PROMETHEUS_PORT="9090"
GRAFANA_PORT="3003"
JAEGER_PORT="16686"

# External Service URLs
GOVERNMENT_API_BASE="https://api.gov.uk"
FRAUD_DETECTION_ENDPOINT="http://localhost:${PYTHON_ANALYTICS_PORT}"
AUDIT_SERVICE_ENDPOINT="http://localhost:${GO_GATEWAY_PORT}/api/v1/audit"

#=============================================================================
# GOVERNMENT API CREDENTIALS
#=============================================================================

# HMRC (Revenue & Customs)
HMRC_CLIENT_ID=""
HMRC_CLIENT_SECRET=""
HMRC_SCOPE="read:vat read:corporation-tax read:paye"
HMRC_BASE_URL="https://test-api.service.hmrc.gov.uk"

# DVLA (Driver & Vehicle Licensing)
DVLA_API_KEY=""
DVLA_BASE_URL="https://uat.driver-vehicle-licensing.api.gov.uk"

# NHS (National Health Service)
NHS_CLIENT_ID=""
NHS_CLIENT_SECRET=""
NHS_BASE_URL="https://sandbox.api.nhs.uk"

# DWP (Work & Pensions)
DWP_CLIENT_ID=""
DWP_CLIENT_SECRET=""
DWP_BASE_URL="https://api.dwp.gov.uk"

# Companies House
COMPANIES_HOUSE_API_KEY=""
COMPANIES_HOUSE_BASE_URL="https://api.company-information.service.gov.uk"

# Home Office
HOME_OFFICE_CLIENT_ID=""
HOME_OFFICE_CLIENT_SECRET=""
HOME_OFFICE_BASE_URL="https://api.homeoffice.gov.uk"

# Border Control
BORDER_CONTROL_API_KEY=""
BORDER_CONTROL_BASE_URL="https://api.bordercontrol.gov.uk"

# Courts & Tribunals
COURTS_API_KEY=""
COURTS_BASE_URL="https://api.justice.gov.uk"

# Financial Conduct Authority
FCA_CLIENT_ID=""
FCA_CLIENT_SECRET=""
FCA_BASE_URL="https://api.fca.org.uk"

#=============================================================================
# COMPONENT-SPECIFIC CONFIGURATION
#=============================================================================

# Rust Core Engine
RUST_LOG="info"
RUST_BACKTRACE="1"
CRYPTO_PROVIDER="ring"
FFI_LIBRARY_PATH="./core-id-engine/target/release/libcore_id_engine.dylib"

# Go Microservices
GO_ENV="development"
GIN_MODE="debug"  # debug, release, test
GO_MAX_GOROUTINES="10000"
HTTP_READ_TIMEOUT="30s"
HTTP_WRITE_TIMEOUT="30s"
HTTP_IDLE_TIMEOUT="60s"

# Kotlin Spring Boot
SPRING_PROFILES_ACTIVE="development"
SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE="20"
SPRING_CACHE_TYPE="redis"
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE="health,info,metrics,prometheus"
LOGGING_LEVEL_ROOT="INFO"
LOGGING_LEVEL_UK_DIGITAL_ID="DEBUG"

# Python Analytics
PYTHON_ENV="development"
ML_MODEL_PATH="./fraud-analytics/models"
SCIKIT_LEARN_ENABLE_WORKERS="1"
CUDA_VISIBLE_DEVICES="0"  # Set to empty string if no GPU
TENSORFLOW_CPP_MIN_LOG_LEVEL="2"

# TypeScript/Node.js
NODE_ENV="development"
NEXTAUTH_SECRET=""  # GENERATE: 32-character secret for NextAuth
NEXTAUTH_URL="http://localhost:${CITIZEN_PORTAL_PORT}"
NEXT_TELEMETRY_DISABLED="1"

# Flutter Mobile
FLUTTER_ENV="development"
FLUTTER_API_BASE_URL="http://localhost:${GO_GATEWAY_PORT}/api/v1"
FLUTTER_ENABLE_HOT_RELOAD="true"

#=============================================================================
# MONITORING & OBSERVABILITY
#=============================================================================

# Prometheus
PROMETHEUS_SCRAPE_INTERVAL="15s"
PROMETHEUS_EVALUATION_INTERVAL="15s"
PROMETHEUS_RETENTION_TIME="15d"

# Grafana
GRAFANA_ADMIN_USER="admin"
GRAFANA_ADMIN_PASSWORD=""  # GENERATE: Strong admin password
GRAFANA_SECRET_KEY=""  # GENERATE: 16-character secret
GRAFANA_DISABLE_GRAVATAR="true"

# Jaeger (Distributed Tracing)
JAEGER_AGENT_HOST="localhost"
JAEGER_AGENT_PORT="6831"
JAEGER_SAMPLER_TYPE="const"
JAEGER_SAMPLER_PARAM="1"

# Application Performance Monitoring
APM_ENABLED="true"
APM_SERVICE_NAME="uk-digital-id-platform"
APM_ENVIRONMENT="${ENVIRONMENT}"

#=============================================================================
# RATE LIMITING & THROTTLING
#=============================================================================

# API Rate Limits (requests per minute)
RATE_LIMIT_GLOBAL="1000"
RATE_LIMIT_PER_USER="100"
RATE_LIMIT_PER_IP="200"
RATE_LIMIT_BURST="50"

# Service-specific limits
RUST_RATE_LIMIT="500"
GO_RATE_LIMIT="1000"
KOTLIN_RATE_LIMIT="300"
PYTHON_RATE_LIMIT="100"

#=============================================================================
# DEVELOPMENT & TESTING
#=============================================================================

# Test Configuration
TEST_DATABASE_URL="postgresql://test_user:test_pass@localhost:5433/test_uk_digital_id"
TEST_REDIS_URL="redis://localhost:6380/1"
TEST_JWT_SECRET="test_jwt_secret_key_for_development_only"

# Mock Services
MOCK_GOVERNMENT_APIS="true"
MOCK_FRAUD_DETECTION="false"
MOCK_BIOMETRIC_AUTH="true"

# Development Features
HOT_RELOAD_ENABLED="true"
AUTO_MIGRATIONS="true"
CORS_ORIGINS="http://localhost:3000,http://localhost:3001,http://localhost:3002"

#=============================================================================
# PRODUCTION OVERRIDES (Only set in production)
#=============================================================================

# Security Hardening
SECURE_COOKIES="false"  # Set to "true" in production
HTTPS_ONLY="false"      # Set to "true" in production
HSTS_ENABLED="false"    # Set to "true" in production

# Performance Tuning
CONNECTION_POOL_SIZE="50"
WORKER_PROCESSES="4"
MAX_REQUEST_SIZE="10MB"
CACHE_TTL="3600s"

# Backup & Recovery
BACKUP_ENABLED="false"
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS="30"

#=============================================================================
# FEATURE FLAGS
#=============================================================================

# Core Features
FEATURE_BIOMETRIC_AUTH="true"
FEATURE_FRAUD_DETECTION="true"
FEATURE_REAL_TIME_NOTIFICATIONS="true"
FEATURE_AUDIT_LOGGING="true"

# Government Integrations
FEATURE_HMRC_INTEGRATION="true"
FEATURE_DVLA_INTEGRATION="true"
FEATURE_NHS_INTEGRATION="true"
FEATURE_DWP_INTEGRATION="true"

# Analytics & ML
FEATURE_ADVANCED_ANALYTICS="true"
FEATURE_ML_FRAUD_DETECTION="true"
FEATURE_PREDICTIVE_MODELING="false"

# UI Features
FEATURE_DARK_MODE="true"
FEATURE_ACCESSIBILITY_MODE="true"
FEATURE_MULTI_LANGUAGE="false"

#=============================================================================
# GENERATE PLACEHOLDERS
# These will be automatically populated by the initialization script
#=============================================================================

# Auto-generated during initialization:
# - All password fields marked with GENERATE
# - JWT secrets and encryption keys
# - API authentication tokens
# - Service discovery endpoints
# - Component-specific configuration files